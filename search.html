<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Results - Dubizzle Clone</title>
    <meta name="description" content="Search for cars, properties, and more on Dubizzle Clone.">
    <link rel="icon" type="image/png" href="assets/images/favicon.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#0B2447',
                        secondary: '#F5F5F5',
                        accent: '#FF6B00',
                        success: '#00C853',
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>
    <script>
        // Apply theme immediately to prevent flashing
        if (localStorage.getItem('theme') === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    </script>
    <link href="assets/css/style.css" rel="stylesheet">
</head>

<body class="bg-secondary dark:bg-gray-900 text-gray-800 dark:text-gray-100 transition-colors duration-300">

    <!-- Header -->
    <header class="site-header sticky top-0 z-50">
        <!-- Top Bar -->
        <div
            class="header-top-bar bg-gray-100 dark:bg-gray-800 border-b dark:border-gray-700 text-sm py-2 transition-colors duration-300">
            <div
                class="header-container-top max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center gap-4">

                <!-- Search Bar -->
                <div class="search-wrapper w-full md:w-1/2 lg:w-1/3 order-2 md:order-1 relative">
                    <input type="text" data-translate="searchPlaceholder" placeholder="Search..."
                        class="search-input w-full bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md py-2 px-4 pr-10 focus:outline-none focus:ring-2 focus:ring-accent dark:text-white transition-colors duration-300">
                    <button class="absolute right-3 top-2.5 text-gray-400 hover:text-accent rtl:right-auto rtl:left-3">
                        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </button>
                </div>

                <!-- Right Actions (Country, Lang, Theme, User) -->
                <div
                    class="header-actions flex items-center space-x-6 rtl:space-x-reverse order-1 md:order-2 w-full md:w-auto justify-end">

                    <!-- Country Dropdown -->
                    <div class="country-dropdown relative group h-full flex items-center">
                        <button
                            class="country-btn flex items-center text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-white transition py-2">
                            <span id="current-country-flag" class="text-lg mr-2 rtl:ml-2 rtl:mr-0">ðŸ‡¦ðŸ‡ª</span>
                            <span id="current-country-name" class="hidden sm:inline font-medium"
                                data-translate="uae">UAE</span>
                            <svg class="w-3 h-3 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div
                            class="absolute top-full right-0 rtl:left-0 rtl:right-auto w-40 bg-white dark:bg-gray-800 shadow-lg rounded-md py-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50 border dark:border-gray-700 transform origin-top scale-95 group-hover:scale-100">
                            <a href="#"
                                class="country-option flex items-center px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-gray-200"
                                data-flag="ðŸ‡¦ðŸ‡ª" data-country="uae" data-name="uae">
                                <span class="mr-2 rtl:ml-2">ðŸ‡¦ðŸ‡ª</span> <span data-translate="uae">UAE</span>
                            </a>
                            <a href="#"
                                class="country-option flex items-center px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-gray-200"
                                data-flag="ðŸ‡ªðŸ‡¬" data-country="egypt" data-name="egypt">
                                <span class="mr-2 rtl:ml-2">ðŸ‡ªðŸ‡¬</span> <span data-translate="egypt">Egypt</span>
                            </a>
                            <a href="#"
                                class="country-option flex items-center px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-gray-200"
                                data-flag="ðŸ‡¸ðŸ‡¦" data-country="ksa" data-name="ksa">
                                <span class="mr-2 rtl:ml-2">ðŸ‡¸ðŸ‡¦</span> <span data-translate="ksa">KSA</span>
                            </a>
                            <a href="#"
                                class="country-option flex items-center px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-gray-200"
                                data-flag="ðŸ‡¶ðŸ‡¦" data-country="qatar" data-name="qatar">
                                <span class="mr-2 rtl:ml-2">ðŸ‡¶ðŸ‡¦</span> <span data-translate="qatar">Qatar</span>
                            </a>
                        </div>
                    </div>

                    <!-- Language Switcher -->
                    <a href="#" id="lang-toggle"
                        class="text-gray-700 dark:text-gray-300 hover:text-accent font-medium transition">Ø¹Ø±Ø¨ÙŠ</a>

                    <!-- Dark Mode Toggle -->
                    <button id="theme-toggle"
                        class="p-1.5 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 transition focus:outline-none"
                        aria-label="Toggle Dark Mode">
                        <span id="theme-icon">
                            <svg class="w-5 h-5 text-gray-700 dark:text-gray-200" fill="none" stroke="currentColor"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z">
                                </path>
                            </svg>
                        </span>
                    </button>

                    <!-- User Account Dropdown -->
                    <div class="relative group h-full flex items-center">
                        <button
                            class="flex items-center text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-white transition py-2">
                            <div
                                class="w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center text-gray-600 dark:text-gray-300">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                                </svg>
                            </div>
                            <span id="user-btn-text" class="ml-2 rtl:mr-2 rtl:ml-0 font-medium hidden sm:inline"
                                data-translate="login">Log in</span>
                            <svg class="w-3 h-3 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div
                            class="absolute top-full right-0 rtl:left-0 rtl:right-auto w-48 bg-white dark:bg-gray-800 shadow-lg rounded-md py-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50 border dark:border-gray-700 transform origin-top scale-95 group-hover:scale-100">
                            <a href="login.html"
                                class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-accent"
                                data-translate="login">Log in</a>
                            <a href="login.html?mode=signup"
                                class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-accent"
                                data-translate="createAccount">Sign Up</a>
                        </div>
                    </div>

                    <!-- Post Ad Button -->
                    <a href="post-ad.html"
                        class="bg-accent text-white px-4 py-2 rounded-full font-bold hover:bg-orange-600 transition shadow-md hover:shadow-lg text-sm whitespace-nowrap"
                        data-translate="postAd">Post ad</a>
                </div>
            </div>
        </div>

        <!-- Main Navbar -->
        <nav class="main-navbar bg-white dark:bg-gray-900 shadow-md transition-colors duration-300">
            <div class="navbar-container max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="navbar-content flex justify-between h-16">
                    <!-- Logo -->
                    <div class="flex-shrink-0 flex items-center">
                        <a href="index.html" class="text-2xl font-bold text-primary dark:text-white">DubizzleClone</a>
                    </div>

                    <!-- Desktop Menu -->
                    <div class="hidden md:flex items-center space-x-6 rtl:space-x-reverse">

                        <!-- Motors Dropdown -->
                        <div class="group relative h-full flex items-center">
                            <a href="categories.html"
                                class="flex items-center text-gray-700 dark:text-gray-300 hover:text-accent font-medium transition group-hover:text-accent h-full px-2">
                                <span data-translate="motorsTitle">Motors</span>
                                <svg class="w-4 h-4 ml-1 transition-transform group-hover:rotate-180 rtl:mr-1 rtl:ml-0"
                                    fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </a>
                            <div
                                class="absolute top-full left-0 w-56 bg-white dark:bg-gray-800 shadow-xl rounded-b-lg border-t-2 border-accent opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 transform scale-95 origin-top group-hover:scale-100 z-50">
                                <div class="py-2">
                                    <a href="search.html"
                                        class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-accent transition"
                                        data-translate="usedCars">Used Cars</a>
                                    <a href="search.html"
                                        class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-accent transition"
                                        data-translate="motorcycles">Motorcycles</a>
                                    <a href="search.html"
                                        class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-accent transition"
                                        data-translate="heavyVehicles">Heavy Vehicles</a>
                                    <a href="search.html"
                                        class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-accent transition"
                                        data-translate="boats">Boats</a>
                                    <a href="search.html"
                                        class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-accent transition"
                                        data-translate="autoAccessories">Auto Accessories</a>
                                </div>
                            </div>
                        </div>

                        <!-- Property Dropdown -->
                        <div class="group relative h-full flex items-center">
                            <a href="categories.html"
                                class="flex items-center text-gray-700 dark:text-gray-300 hover:text-accent font-medium transition group-hover:text-accent h-full px-2">
                                <span data-translate="propertyTitle">Property</span>
                                <svg class="w-4 h-4 ml-1 transition-transform group-hover:rotate-180 rtl:mr-1 rtl:ml-0"
                                    fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </a>
                            <div
                                class="absolute top-full left-0 w-56 bg-white dark:bg-gray-800 shadow-xl rounded-b-lg border-t-2 border-accent opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 transform scale-95 origin-top group-hover:scale-100 z-50">
                                <div class="py-2">
                                    <a href="search.html"
                                        class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-accent transition"
                                        data-translate="residentialSale">Residential for Sale</a>
                                    <a href="search.html"
                                        class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-accent transition"
                                        data-translate="commercialSale">Commercial for Sale</a>
                                    <a href="search.html"
                                        class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-accent transition"
                                        data-translate="multipleUnits">Multiple Units</a>
                                    <a href="search.html"
                                        class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-accent transition"
                                        data-translate="landSale">Land for Sale</a>
                                </div>
                            </div>
                        </div>

                        <!-- Classifieds Dropdown -->
                        <div class="group relative h-full flex items-center">
                            <a href="categories.html"
                                class="flex items-center text-gray-700 dark:text-gray-300 hover:text-accent font-medium transition group-hover:text-accent h-full px-2">
                                <span data-translate="classifiedsTitle">Classifieds</span>
                                <svg class="w-4 h-4 ml-1 transition-transform group-hover:rotate-180 rtl:mr-1 rtl:ml-0"
                                    fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </a>
                            <div
                                class="absolute top-full left-0 w-56 bg-white dark:bg-gray-800 shadow-xl rounded-b-lg border-t-2 border-accent opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 transform scale-95 origin-top group-hover:scale-100 z-50">
                                <div class="py-2">
                                    <a href="search.html"
                                        class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-accent transition"
                                        data-translate="electronics">Electronics</a>
                                    <a href="search.html"
                                        class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-accent transition"
                                        data-translate="computers">Computers</a>
                                    <a href="search.html"
                                        class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-accent transition"
                                        data-translate="clothing">Clothing</a>
                                    <a href="search.html"
                                        class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-accent transition"
                                        data-translate="cameras">Cameras</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
        <div class="flex flex-col md:flex-row gap-8">

            <!-- Filters Sidebar -->
            <div class="w-full md:w-64 flex-shrink-0">
                <div
                    class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm sticky top-24 border dark:border-gray-700 transition-colors duration-300">
                    <h2 class="font-bold text-lg mb-4 text-gray-900 dark:text-white" data-translate="filters">Filters
                    </h2>

                    <!-- Categories -->
                    <div class="mb-6">
                        <h3 class="text-xs font-bold text-gray-400 dark:text-gray-500 mb-3 uppercase tracking-wider"
                            data-translate="categoryLabel">Category</h3>
                        <div class="space-y-2 max-h-48 overflow-y-auto pr-2 hide-scrollbar">
                            <label class="flex items-center group cursor-pointer">
                                <input type="radio" name="category" value=""
                                    class="w-4 h-4 text-accent border-gray-300 focus:ring-accent" checked>
                                <span
                                    class="ml-2 text-sm text-gray-600 dark:text-gray-300 group-hover:text-accent transition"
                                    data-translate="allCategories">All Categories</span>
                            </label>
                            <label class="flex items-center group cursor-pointer">
                                <input type="radio" name="category" value="Motors"
                                    class="w-4 h-4 text-accent border-gray-300 focus:ring-accent">
                                <span
                                    class="ml-2 text-sm text-gray-600 dark:text-gray-300 group-hover:text-accent transition"
                                    data-translate="motors">Motors</span>
                            </label>
                            <label class="flex items-center group cursor-pointer">
                                <input type="radio" name="category" value="Property"
                                    class="w-4 h-4 text-accent border-gray-300 focus:ring-accent">
                                <span
                                    class="ml-2 text-sm text-gray-600 dark:text-gray-300 group-hover:text-accent transition"
                                    data-translate="property">Property</span>
                            </label>
                            <label class="flex items-center group cursor-pointer">
                                <input type="radio" name="category" value="Electronics"
                                    class="w-4 h-4 text-accent border-gray-300 focus:ring-accent">
                                <span
                                    class="ml-2 text-sm text-gray-600 dark:text-gray-300 group-hover:text-accent transition"
                                    data-translate="electronics">Electronics</span>
                            </label>
                            <label class="flex items-center group cursor-pointer">
                                <input type="radio" name="category" value="Mobiles"
                                    class="w-4 h-4 text-accent border-gray-300 focus:ring-accent">
                                <span
                                    class="ml-2 text-sm text-gray-600 dark:text-gray-300 group-hover:text-accent transition"
                                    data-translate="mobiles">Mobiles</span>
                            </label>
                            <label class="flex items-center group cursor-pointer">
                                <input type="radio" name="category" value="Furniture"
                                    class="w-4 h-4 text-accent border-gray-300 focus:ring-accent">
                                <span
                                    class="ml-2 text-sm text-gray-600 dark:text-gray-300 group-hover:text-accent transition"
                                    data-translate="furniture">Furniture</span>
                            </label>
                        </div>
                    </div>

                    <!-- Price Range -->
                    <div class="mb-6">
                        <h3 class="text-sm font-semibold text-gray-500 dark:text-gray-400 mb-2 uppercase"
                            data-translate="priceLabel">Price
                            (<span class="currency-label">AED</span>)</h3>
                        <div class="flex space-x-2 rtl:space-x-reverse">
                            <input type="number" placeholder="Min" data-translate="minPrice"
                                class="w-1/2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded px-2 py-1 text-sm focus:outline-none focus:border-accent">
                            <input type="number" placeholder="Max" data-translate="maxPrice"
                                class="w-1/2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded px-2 py-1 text-sm focus:outline-none focus:border-accent">
                        </div>
                    </div>

                    <!-- Location -->
                    <div class="mb-6">
                        <h3 class="text-sm font-semibold text-gray-500 dark:text-gray-400 mb-2 uppercase"
                            data-translate="locationLabel">
                            Location</h3>
                        <select data-dynamic-location="true" data-include-all="true"
                            class="block w-full border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded px-2 py-1 text-sm focus:outline-none focus:border-accent">
                            <option data-translate="allUAE">All UAE</option>
                            <option data-translate="dubai">Dubai</option>
                            <option data-translate="abuDhabi">Abu Dhabi</option>
                        </select>
                    </div>

                    <button
                        class="w-full bg-primary dark:bg-accent text-white py-2 rounded-md font-bold hover:bg-blue-900 dark:hover:bg-orange-600 transition mb-2"
                        data-translate="applyFilters">Apply
                        Filters</button>
                    <button
                        class="w-full text-gray-500 dark:text-gray-400 text-sm hover:text-gray-700 dark:hover:text-white"
                        data-translate="reset">Reset</button>

                </div>
            </div>

            <!-- Results -->
            <div class="flex-grow">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="text-2xl font-bold text-gray-900 dark:text-white"><span
                            data-translate="searchResults">Search
                            Results</span> <span class="text-gray-400 dark:text-gray-500 text-lg font-normal">(124
                            <span data-translate="ads">ads</span>)</span></h1>
                    <div
                        class="flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400 rtl:space-x-reverse">
                        <span data-translate="sortBy">Sort by:</span>
                        <select
                            class="border-none bg-transparent font-medium focus:ring-0 cursor-pointer dark:text-white">
                            <option value="recommended" class="dark:bg-gray-800" data-translate="recommended">
                                Recommended</option>
                            <option value="newest" class="dark:bg-gray-800" data-translate="newest">Newest to Oldest
                            </option>
                            <option value="lowHigh" class="dark:bg-gray-800" data-translate="lowHigh">Price: Low to High
                            </option>
                            <option value="highLow" class="dark:bg-gray-800" data-translate="highLow">Price: High to Low
                            </option>
                        </select>
                    </div>
                </div>

                <div class="space-y-4">
                    <!-- Result Item 1 -->
                    <div
                        class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition flex flex-col sm:flex-row group animate-fade-in">
                        <div class="h-48 sm:h-auto sm:w-64 bg-gray-200 dark:bg-gray-700 relative flex-shrink-0">
                            <img src="https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80"
                                class="w-full h-full object-cover transition duration-300 group-hover:scale-105">
                            <div class="absolute top-2 left-2 bg-accent text-white text-xs font-bold px-2 py-1 rounded rtl:right-2 rtl:left-auto"
                                data-translate="featuredBadge">
                                FEATURED</div>
                        </div>
                        <div class="p-6 flex flex-col justify-between flex-grow">
                            <div>
                                <div class="flex justify-between items-start">
                                    <h3
                                        class="font-bold text-xl text-primary dark:text-blue-400 mb-2 hover:underline cursor-pointer">
                                        <a href="ad-details.html" data-translate="adTitle1">Toyota Camry 2024 - GCC
                                            Specs</a>
                                    </h3>
                                    <button class="text-gray-400 hover:text-red-500"><svg class="w-6 h-6" fill="none"
                                            stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z">
                                            </path>
                                        </svg></button>
                                </div>
                                <div class="text-2xl font-bold text-accent mb-2">25,000 <span class="currency-label"
                                        data-translate="currency_uae">AED</span></div>
                                <p class="text-gray-600 dark:text-gray-400 mb-4 line-clamp-2" data-translate="adDesc1">
                                    Perfect condition, single
                                    owner, low mileage.
                                    Service history available. Contact for viewing.</p>
                            </div>
                            <div
                                class="flex justify-between items-center text-sm text-gray-500 dark:text-gray-400 border-t dark:border-gray-700 pt-4">
                                <div class="flex items-center space-x-4 rtl:space-x-reverse">
                                    <span class="flex items-center"><svg class="w-4 h-4 mr-1 rtl:ml-1 rtl:mr-0"
                                            fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z">
                                            </path>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                        </svg> <span class="city-label" data-translate="dubai">Dubai</span></span>
                                    <span class="flex items-center"><svg class="w-4 h-4 mr-1 rtl:ml-1 rtl:mr-0"
                                            fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                        </svg> <span data-translate="timeAgo">2 hours ago</span></span>
                                </div>
                                <a href="ad-details.html"
                                    class="text-primary dark:text-blue-400 font-medium hover:text-accent group-hover:underline flex items-center gap-1">
                                    <span data-translate="viewDetails">View Details</span>
                                    <span
                                        class="rtl:rotate-180 inline-block transition-transform group-hover:translate-x-1 rtl:group-hover:-translate-x-1">&rarr;</span>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Result Item 2 -->
                    <div
                        class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition flex flex-col sm:flex-row group animate-fade-in">
                        <div class="h-48 sm:h-auto sm:w-64 bg-gray-200 dark:bg-gray-700 relative flex-shrink-0">
                            <img src="https://images.unsplash.com/photo-1542282088-fe8426682b8f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"
                                class="w-full h-full object-cover transition duration-300 group-hover:scale-105">
                        </div>
                        <div class="p-6 flex flex-col justify-between flex-grow">
                            <div>
                                <div class="flex justify-between items-start">
                                    <h3
                                        class="font-bold text-xl text-primary dark:text-blue-400 mb-2 hover:underline cursor-pointer">
                                        <a href="ad-details.html" data-translate="adTitle2">Ford Mustang 2018 - V8
                                            GT</a>
                                    </h3>
                                    <button class="text-gray-400 hover:text-red-500"><svg class="w-6 h-6" fill="none"
                                            stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z">
                                            </path>
                                        </svg></button>
                                </div>
                                <div class="text-2xl font-bold text-accent mb-2">85,000 <span class="currency-label"
                                        data-translate="currency_uae">AED</span></div>
                                <p class="text-gray-600 dark:text-gray-400 mb-4 line-clamp-2" data-translate="adDesc2">
                                    American specs, modified
                                    exhaust, new tires.
                                    Very powerful car.</p>
                            </div>
                            <div
                                class="flex justify-between items-center text-sm text-gray-500 dark:text-gray-400 border-t dark:border-gray-700 pt-4">
                                <div class="flex items-center space-x-4 rtl:space-x-reverse">
                                    <span class="flex items-center"><svg class="w-4 h-4 mr-1 rtl:ml-1 rtl:mr-0"
                                            fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z">
                                            </path>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                        </svg> <span class="city-label" data-translate="abuDhabi">Abu
                                            Dhabi</span></span>
                                    <span class="flex items-center"><svg class="w-4 h-4 mr-1 rtl:ml-1 rtl:mr-0"
                                            fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                        </svg> <span data-translate="timeAgo">5 hours ago</span></span>
                                </div>
                                <a href="ad-details.html"
                                    class="text-primary dark:text-blue-400 font-medium hover:text-accent group-hover:underline flex items-center gap-1">
                                    <span data-translate="viewDetails">View Details</span>
                                    <span
                                        class="rtl:rotate-180 inline-block transition-transform group-hover:translate-x-1 rtl:group-hover:-translate-x-1">&rarr;</span>
                                </a>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- Pagination -->
                <div class="mt-8 flex justify-center">
                    <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px rtl:space-x-reverse"
                        aria-label="Pagination">
                        <a href="#"
                            class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 rtl:rounded-r-md rtl:rounded-l-none"
                            data-translate="previous">
                            Previous
                        </a>
                        <a href="#" aria-current="page"
                            class="z-10 bg-indigo-50 dark:bg-gray-700 border-accent text-accent relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                            1
                        </a>
                        <a href="#"
                            class="bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                            2
                        </a>
                        <a href="#"
                            class="bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                            3
                        </a>
                        <a href="#"
                            class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 rtl:rounded-l-md rtl:rounded-r-none"
                            data-translate="next">
                            Next
                        </a>
                    </nav>
                </div>
            </div>

        </div>
    </div>
    <!-- Footer -->
    <footer
        class="site-footer bg-gray-900 text-white pt-12 pb-8 mt-20 border-t border-gray-800 transition-colors duration-300">
        <div class="footer-container max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">DubizzleClone</h3>
                    <p class="text-gray-400 text-sm" data-translate="footerText">The best place to buy and sell anything
                        in the UAE.</p>
                </div>
                <div>
                    <h4 class="font-bold mb-4 text-gray-300" data-translate="quickLinks">Quick Links</h4>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="about.html" class="hover:text-white transition" data-translate="aboutUs">About
                                Us</a></li>
                        <li><a href="contact.html" class="hover:text-white transition"
                                data-translate="contactUs">Contact Us</a></li>
                        <li><a href="blog.html" class="hover:text-white transition" data-translate="blog">Blog</a></li>
                        <li><a href="business.html" class="hover:text-white transition" data-translate="forBusiness">For
                                Business</a></li>
                        <li><a href="#" class="hover:text-white transition" data-translate="careers">Careers</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold mb-4 text-gray-300" data-translate="support">Support</h4>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="help.html" class="hover:text-white transition" data-translate="helpCenter">Help
                                Center</a></li>
                        <li><a href="privacy.html" class="hover:text-white transition"
                                data-translate="privacyPolicy">Privacy Policy</a></li>
                        <li><a href="#" class="hover:text-white transition" data-translate="safetyTips">Safety Tips</a>
                        </li>
                        <li><a href="#" class="hover:text-white transition" data-translate="termsOfUse">Terms &
                                Conditions</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold mb-4 text-gray-300" data-translate="followUs">Follow Us</h4>
                    <div class="flex space-x-4 rtl:space-x-reverse">
                        <a href="#" class="text-gray-400 hover:text-white transition">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                                <path
                                    d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z" />
                            </svg>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                                <path
                                    d="M12 2.163c3.204 0 3.584.012 4.85.072 3.269.156 5.093 1.824 5.248 5.093.057 1.266.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.987 4.881-5.248 5.093-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.156-5.094-1.824-5.248-5.093-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.987-4.881 5.248-5.093 1.265-.06 1.644-.072 4.849-.072zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.206-6.788 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.789 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.206 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-800 pt-8 text-center text-sm text-gray-500">
                <p data-translate="rights">&copy; 2026 DubizzleClone. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="assets/js/en.js"></script>
    <script src="assets/js/ar.js"></script>
    <script src="assets/js/api-client.js"></script>
    <script src="assets/js/main.js"></script>
    <script>
        async function loadSearchResults(params = {}) {
            try {
                // Keep track of current state for reference
                window.currentSearchParams = params;

                const response = await apiClient.getAds(params);
                const results = response.data;
                const container = document.querySelector('.space-y-4');
                container.innerHTML = '';

                // Update count display
                const countContainer = document.querySelector('.text-lg.font-normal');
                if (countContainer) {
                    countContainer.innerHTML = `(${results.length} <span data-translate="ads">ads</span>)`;
                }

                if (results.length === 0) {
                    container.innerHTML = `
                        <div class="text-center py-20 bg-white dark:bg-gray-800 rounded-xl border dark:border-gray-700">
                            <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 9.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            <h3 class="mt-2 text-sm font-medium text-gray-900 dark:text-white">No results found</h3>
                            <p class="mt-1 text-sm text-gray-500">Try adjusting your filters or search terms.</p>
                        </div>
                    `;
                    return;
                }

                results.forEach(ad => {
                    const adCard = `
                        <div class="bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-xl overflow-hidden shadow-sm hover:shadow-lg transition-all flex flex-col sm:flex-row group animate-fade-in relative cursor-pointer" onclick="window.location.href='ad-details.html?id=${ad.id}'">
                            <div class="h-48 sm:h-auto sm:w-64 bg-gray-200 dark:bg-gray-700 relative overflow-hidden flex-shrink-0">
                                <img src="${ad.images[0] || 'https://via.placeholder.com/300'}" class="w-full h-full object-cover transition duration-500 group-hover:scale-110" alt="${ad.title}">
                                ${ad.status === 'active' ? '<div class="absolute top-3 left-3 bg-accent text-white text-[10px] font-black px-2 py-1 rounded shadow-lg uppercase tracking-tighter">Featured</div>' : ''}
                            </div>
                            <div class="p-6 flex flex-col justify-between flex-grow">
                                <div class="flex-grow">
                                    <div class="flex justify-between items-start">
                                        <h3 class="font-black text-lg sm:text-xl text-gray-900 dark:text-gray-100 group-hover:text-accent transition line-clamp-1">${ad.title}</h3>
                                        <button class="text-gray-300 hover:text-red-500 transition-colors" onclick="event.stopPropagation(); toggleFav(${ad.id}, this)">
                                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg>
                                        </button>
                                    </div>
                                    <div class="text-2xl font-black text-accent mt-1 mb-3">${ad.price.toLocaleString()} <span class="text-sm font-bold">AED</span></div>
                                    <p class="text-gray-500 dark:text-gray-400 text-sm mb-4 line-clamp-2">${ad.description}</p>
                                </div>
                                <div class="flex justify-between items-center text-[11px] font-bold text-gray-400 dark:text-gray-500 pt-4 border-t dark:border-gray-700/50 uppercase tracking-widest leading-none">
                                    <div class="flex items-center space-x-6 rtl:space-x-reverse">
                                        <span class="flex items-center"><svg class="w-3.5 h-3.5 mr-1.5 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path></svg> <span class="city-label">${ad.city}</span></span>
                                        <span class="flex items-center"><svg class="w-3.5 h-3.5 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span>${new Date(ad.createdAt).toLocaleDateString()}</span></span>
                                    </div>
                                    <span class="hidden sm:inline-block text-accent group-hover:translate-x-1 transition-transform">Details &rarr;</span>
                                </div>
                            </div>
                        </div>
                    `;
                    container.insertAdjacentHTML('beforeend', adCard);
                });

                // Update dynamic content (currencies, locations) for newly added search results
                if (window.updateDynamicContent) {
                    window.updateDynamicContent(window.selectedCountry, window.currentLang);
                }
            } catch (err) {
                console.error('Error loading search results:', err);
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const initialParams = {};

            // Sync Search Bar with Query
            const searchInput = document.querySelector('.search-input');
            if (urlParams.get('q')) {
                initialParams.search = urlParams.get('q');
                if (searchInput) searchInput.value = urlParams.get('q');
            }
            if (urlParams.get('category')) {
                initialParams.category = urlParams.get('category');
                const radio = document.querySelector(`input[name="category"][value="${urlParams.get('category')}"]`);
                if (radio) radio.checked = true;
            }

            loadSearchResults(initialParams);

            // Filter Application logic
            const applyBtn = document.querySelector('button[data-translate="applyFilters"]');
            const resetBtn = document.querySelector('button[data-translate="reset"]');

            const applyFilters = () => {
                const category = document.querySelector('input[name="category"]:checked')?.value || '';
                const minPrice = document.querySelector('input[data-translate="minPrice"]').value;
                const maxPrice = document.querySelector('input[data-translate="maxPrice"]').value;
                const city = document.querySelector('select[data-dynamic-location="true"]').value;
                const search = document.querySelector('.search-input')?.value || '';

                const params = {
                    category,
                    minPrice,
                    maxPrice,
                    city: (city.toLowerCase().includes('all') || city === '') ? '' : city,
                    search
                };

                // Remove empty params
                Object.keys(params).forEach(key => !params[key] && delete params[key]);

                loadSearchResults(params);
            };

            if (applyBtn) applyBtn.addEventListener('click', applyFilters);

            if (resetBtn) {
                resetBtn.addEventListener('click', () => {
                    document.querySelector('input[name="category"][value=""]').checked = true;
                    document.querySelector('input[data-translate="minPrice"]').value = '';
                    document.querySelector('input[data-translate="maxPrice"]').value = '';
                    document.querySelector('select[data-dynamic-location="true"]').selectedIndex = 0;
                    if (searchInput) searchInput.value = '';
                    loadSearchResults({});
                });
            }

            // Sync Header Search
            const headerSearchBtn = document.querySelector('.search-wrapper button');
            if (headerSearchBtn) {
                headerSearchBtn.addEventListener('click', applyFilters);
            }
            if (searchInput) {
                searchInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') applyFilters();
                });
            }
        });
    </script>
</body>

</html>